<?xml version="1.0"?>
<!-- Copyright (c) 2016 The UUV Simulator Authors.
     All rights reserved.

     Licensed under the Apache License, Version 2.0 (the "License");
     you may not use this file except in compliance with the License.
     You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

     Unless required by applicable law or agreed to in writing, software
     distributed under the License is distributed on an "AS IS" BASIS,
     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     See the License for the specific language governing permissions and
     limitations under the License.
-->
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">

  <xacro:property name="prop_mesh_file" value="file://$(find jelly_description)/meshes/prop_mesh.STL"/>

  <!-- Thruster joint and link snippet -->
  <xacro:macro name="thruster_macro"
    params="namespace thruster_id *origin">
    <xacro:thruster_lin_int_con
      namespace="${namespace}"
      thruster_id="${thruster_id}"
      mesh_filename="${prop_mesh_file}"
      dyn_time_constant="0.05"
      input_values="-1 -0.99 -0.98 -0.97 -0.96 -0.95 -0.94 -0.93 -0.92 -0.91 -0.9 -0.89 -0.88 -0.87 -0.86 -0.85 -0.84 -0.83 -0.82 -0.81 -0.8 -0.79 -0.78 -0.77 -0.76 -0.75 -0.74 -0.73 -0.72 -0.71 -0.7 -0.69 -0.68 -0.67 -0.66 -0.65 -0.64 -0.63 -0.62 -0.61 -0.6 -0.59 -0.58 -0.57 -0.56 -0.55 -0.54 -0.53 -0.52 -0.51 -0.5 -0.49 -0.48 -0.47 -0.46 -0.45 -0.44 -0.43 -0.42 -0.41 -0.4 -0.39 -0.38 -0.37 -0.36 -0.35 -0.34 -0.33 -0.32 -0.31 -0.3 -0.29 -0.28 -0.27 -0.26 -0.25 -0.24 -0.23 -0.22 -0.21 -0.2 -0.19 -0.18 -0.17 -0.16 -0.15 -0.14 -0.13 -0.12 -0.11 -0.1 -0.09 -0.08 -0.07 -0.06 -0.05 -0.04 -0.03 -0.02 -0.01 0 0.01 0.02 0.03 0.04 0.05 0.06 0.07 0.08 0.09 0.1 0.11 0.12 0.13 0.14 0.15 0.16 0.17 0.18 0.19 0.2 0.21 0.22 0.23 0.24 0.25 0.26 0.27 0.28 0.29 0.3 0.31 0.32 0.33 0.34 0.35 0.36 0.37 0.38 0.39 0.4 0.41 0.42 0.43 0.44 0.45 0.46 0.47 0.48 0.49 0.5 0.51 0.52 0.53 0.54 0.55 0.56 0.57 0.58 0.59 0.6 0.61 0.62 0.63 0.64 0.65 0.66 0.67 0.68 0.69 0.7 0.71 0.72 0.73 0.74 0.75 0.76 0.77 0.78 0.79 0.8 0.81 0.82 0.83 0.84 0.85 0.86 0.87 0.88 0.89 0.9 0.91 0.92 0.93 0.94 0.95 0.96 0.97 0.98 0.99 1"
      output_values="-39.92156178 -39.73615605 -39.4691718 -38.89070592 -38.26774267 -37.95626105 -37.51128729 -37.28880042 -36.79932929 -36.44335029 -35.86488441 -35.19742378 -34.52996316 -33.86250253 -33.32853402 -32.4830839 -31.90461802 -31.41514689 -30.48070201 -29.81324138 -29.36826763 -28.83429913 -28.07784375 -27.67736737 -27.18789625 -26.56493299 -26.07546187 -25.31900649 -25.00752486 -24.60704849 -24.07307998 -23.36112198 -23.09413773 -22.33768235 -21.93720597 -21.5367296 -20.78027422 -20.42429522 -19.84582934 -19.40085559 -19.04487659 -18.24392383 -17.79895008 -17.30947895 -16.6865157 -16.37503407 -15.7965682 -15.26259969 -14.86212332 -14.59513907 -14.10566794 -13.70519156 -13.21572043 -12.77074668 -12.32577293 -11.79180443 -11.39132805 -10.99085167 -10.81286217 -10.32339105 -10.01190942 -9.611433043 -9.255454042 -8.854977665 -8.543496038 -8.054024911 -7.69804591 -7.297569533 -7.030585282 -6.67460628 -6.363124654 -6.051643027 -5.695664026 -5.295187649 -5.028203398 -4.716721771 -4.36074277 -4.093758518 -3.782276892 -3.470795266 -3.159313639 -2.892329388 -2.536350386 -2.31386351 -2.046879259 -1.779895008 -1.468413382 -1.245926506 -1.02343963 -0.845450129 -0.667460628 -0.489471127 -0.355979002 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.400476377 0.533968502 0.756455378 0.978942254 1.245926506 1.512910757 1.779895008 2.13587401 2.447355636 2.847832013 3.159313639 3.515292641 3.915769018 4.271748019 4.627727021 5.028203398 5.47317715 5.918150902 6.274129903 6.67460628 7.075082657 7.609051159 8.009527536 8.543496038 8.89947504 9.299951417 9.744925169 10.14540155 10.7683648 11.21333855 11.61381493 12.14778343 12.54825981 13.03773093 13.61619681 14.10566794 14.55064169 15.08461019 15.57408132 16.19704457 16.59752095 17.26498158 17.88794483 18.42191333 18.95588184 19.53434771 20.06831622 20.82477159 21.3587401 21.75921647 22.33768235 23.36112198 23.85059311 24.69604324 25.27450911 26.03096449 26.78741987 27.05440412 27.85535688 28.344828 29.19027813 29.94673351 30.48070201 31.10366526 31.54863902 32.39408915 33.10604715 33.5510209 34.4409684 35.37541328 36.13186866 36.66583716 37.46678992 38.13425055 38.80171117 39.8251508 40.67060093 41.73853794 42.22800906 42.98446444 44.23039095 44.40838045 45.60980958 46.18827546 46.94473084 47.43420196 48.36864684 49.1695996 49.79256285 50.46002348 50.7715051 51.21647886 51.45379819">
      <xacro:insert_block name="origin"/>
    </xacro:thruster_lin_int_con>
  </xacro:macro>

  <xacro:thruster_macro namespace="${namespace}" thruster_id="0">
    <origin xyz="0.16931 -0.13868 -0.01801" rpy="${0*d2r} ${0*d2r} ${45*d2r}"/>
  </xacro:thruster_macro>
  <xacro:thruster_macro namespace="${namespace}" thruster_id="1">
    <origin xyz="0.07044 -0.17671 0.07019" rpy="${0*d2r} ${-90*d2r} ${0*d2r}"/>
  </xacro:thruster_macro>
  <xacro:thruster_macro namespace="${namespace}" thruster_id="2">
    <origin xyz="-0.06964 -0.17671 0.07019" rpy="${0*d2r} ${-90*d2r} ${0*d2r}"/>
  </xacro:thruster_macro>
  <xacro:thruster_macro namespace="${namespace}" thruster_id="3">
    <origin xyz="-0.16848 -0.1387 -0.01801" rpy="${0*d2r} ${0*d2r} ${-45*d2r}"/>
  </xacro:thruster_macro>
  <xacro:thruster_macro namespace="${namespace}" thruster_id="4">
    <origin xyz="-0.16197 0.1428 -0.01801" rpy="${0*d2r} ${0*d2r} ${45*d2r}"/>
  </xacro:thruster_macro>
  <xacro:thruster_macro namespace="${namespace}" thruster_id="5">
    <origin xyz="-0.06964 0.17529 0.07019" rpy="${0*d2r} ${-90*d2r} ${0*d2r}"/>
  </xacro:thruster_macro>
  <xacro:thruster_macro namespace="${namespace}" thruster_id="6">
    <origin xyz="0.07044 0.17529 0.07019" rpy="${0*d2r} ${-90*d2r} ${0*d2r}"/>
  </xacro:thruster_macro>
  <xacro:thruster_macro namespace="${namespace}" thruster_id="7">
    <origin xyz="0.16931 0.13726 -0.01801" rpy="${0*d2r} ${0*d2r} ${-45*d2r}"/>
  </xacro:thruster_macro>
</robot>
